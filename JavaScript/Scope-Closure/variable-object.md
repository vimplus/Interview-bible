# 变量对象与活动对象

**变量对象**与**活动对象**其实是同一个对象，只是处于不同生命周期的执行上下文中。
不过只有处于函数调用栈栈顶的执行上下文中的变量对象，才会变成活动对象。

## 示例

```javascript
var a = 10;
function b() {
    console.log('全局的b函数')
};
function bar(a, b) {
    console.log('1', a, b) 
    var a = 1
    function b() {
        console.log('bar下的b函数')
    }
    console.log('2', a, b) 
}
bar(2, 3)
console.log('3', a, b)
```

### 分析：

> 先是进入全局上下文环境，那么第一阶段是（创建阶段）预解析，第二阶段执行代码。 
> 预解析的时候将变量和函数声明提升，此后执行阶段给变量和函数赋值，也就是说a这个时候就是10了。
> 接着执行bar函数的时候，又创建了一个上下文环境，并进入执行栈，又开始了第一阶段的预解析和代码执行阶段。
> 为什么这个时候第一次打印的a是2而不是10呢？因为作用域链的原因，该函数会先在自己的上下文环境找a的值，找不到的时候才会向父作用域寻找。
> 但是此时的a是形参，并且已经传入赋值为2，所以这个时候打印的a是2。

## 变量对象会有以下四种特性：

* 全局上下文的变量对象初始化是全局对象；
* 函数上下文的变量对象初始化只包括Arguments对象；
* 在进入执行上下文的时候会给变量对象添加形参，函数声明，变量声明等初始的属性值；
* 在代码执行阶段，会再次修改变量对象的属性值。


## 参考文章

* [变量对象和活动对象有什么区别](https://www.cnblogs.com/zx-qd/p/10521968.html)
* [js基础梳理-究竟什么是变量对象，什么是活动对象？](https://www.cnblogs.com/hezhi/p/10053025.html)
